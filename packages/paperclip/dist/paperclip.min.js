var paperclip=function(e){"use strict";function t(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}const n=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};!function(e){e[e.STRING=0]="STRING",e[e.BLOCK=1]="BLOCK",e[e.STRING_BLOCK=2]="STRING_BLOCK",e[e.ELEMENT=3]="ELEMENT",e[e.SELF_CLOSING_ELEMENT=4]="SELF_CLOSING_ELEMENT",e[e.TEXT_NODE=5]="TEXT_NODE",e[e.COMMENT=6]="COMMENT",e[e.ATTRIBUTE=7]="ATTRIBUTE",e[e.START_TAG=8]="START_TAG",e[e.BLOCK_STRING=9]="BLOCK_STRING",e[e.FRAGMENT=10]="FRAGMENT",e[e.END_TAG=11]="END_TAG"}(e.PCExpressionType||(e.PCExpressionType={})),function(e){e[e.TYPE=0]="TYPE",e[e.ECHO=1]="ECHO",e[e.IF=2]="IF",e[e.NUMBER=3]="NUMBER",e[e.PROPERTY=4]="PROPERTY",e[e.RESERVED_KEYWORD=5]="RESERVED_KEYWORD",e[e.ELSEIF=6]="ELSEIF",e[e.NOT=7]="NOT",e[e.OPERATION=8]="OPERATION",e[e.GROUP=9]="GROUP",e[e.REFERENCE=10]="REFERENCE",e[e.ELSE=11]="ELSE",e[e.REPEAT=12]="REPEAT"}(e.BKExpressionType||(e.BKExpressionType={}));var r,o=function(t){return t.type==e.PCExpressionType.SELF_CLOSING_ELEMENT?[]:t.childNodes},i=function(t){return t.type==e.PCExpressionType.SELF_CLOSING_ELEMENT?t.name:t.startTag.name},u=function(e){return e.value.value},s=function(e){return C(e).attributes},a=function(e){return C(e).modifiers},c=function(t){return t.type===e.PCExpressionType.ELEMENT||t.type===e.PCExpressionType.ELEMENT||t.type===e.PCExpressionType.START_TAG||t.type===e.PCExpressionType.END_TAG},p=function(t,n){return _(t,function(t){return t.type===e.PCExpressionType.SELF_CLOSING_ELEMENT?n(t):t.type===e.PCExpressionType.ELEMENT&&n(t.startTag)})},E=function(t){return t.type===e.PCExpressionType.SELF_CLOSING_ELEMENT||t.type==e.PCExpressionType.START_TAG?t:t.startTag},l=function(e,t){if(f(e,t)){var n=E(e).attributes.find(function(e){return e.name===t});return n&&n.value&&n.value.value}},f=function(t,n){return(t.type===e.PCExpressionType.ELEMENT||t.type===e.PCExpressionType.SELF_CLOSING_ELEMENT||t.type===e.PCExpressionType.START_TAG)&&Boolean(E(t).attributes.find(function(e){return e.name===n}))},T=function(t){return _(t,function(t){return t.type===e.PCExpressionType.ELEMENT&&"style"===t.startTag.name})},d=function(t){return _(t,function(t){return t.type===e.PCExpressionType.SELF_CLOSING_ELEMENT&&"link"===t.name&&"stylesheet"===l(t,"rel")})},y=function(e){return T(e).concat(d(e))},v=function(e){return R(e,"meta")},N=function(e){var t=v(e).find(function(e){return Boolean(l(e,"name"))});return t&&l(t,"content")},h=function(e,t,n){if(void 0===n&&(n=[]),!1===t(e,n))return!1;if(e.childNodes)for(var r=e,o=0,i=r.childNodes.length;o<i;o++){var u=r.childNodes[o];if(!1===h(u,t,n.concat(["childNodes",o])))return!1}},C=function(t){return t.type===e.PCExpressionType.ELEMENT?t.startTag:t},S=function(e,t){return C(e).modifiers.find(function(e){return e.type===t})},A=function(e,t){var n;return h(t,function(t,r){if(t===e)return n=r,!1}),n},_=function(e,t){var n=[];return h(e,function(e){t(e)&&n.push(e)}),n},R=function(e,t){return p(e,function(e){return e.name===t})},g=function(t,n){return _(t,function(t){return t.childNodes&&t.childNodes.find(function(t){return t===n||n.type===e.PCExpressionType.START_TAG&&t.type===e.PCExpressionType.ELEMENT&&t.startTag===n})})[0]},m=function(e,t,n){return{type:e,pos:t,value:n}},L={},x=function(e){if(L[e])return L[e];var t=1,n=0,r={};return(e+" ").split("").forEach(function(e,o){r[o]=[n,t],"\n"===e&&(n=0,t++),n++}),L[e]=r},$=function(e,t){var n="number"==typeof e?e:e.pos,r=x(t)[n];return{column:r[0],line:r[1],pos:n}},O=function(e,t,n){return{start:e.line?e:$(e,n),end:t&&t.line?t:$(n.length,n)}},P=function(){function e(e){this._target=e,this.pos=0,this.length=e.length}return e.prototype.curr=function(){return this._target[this.pos]},e.prototype.shift=function(){var e=this._target[this.pos];return this.next(),e},e.prototype.hasNext=function(){return this.pos<this.length-1},e.prototype.next=function(){return this._target[Math.min(this.pos=this.pos+1,this.length)]},e.prototype.prev=function(){return this._target[Math.max(this.pos=this.pos-1,0)]},e.prototype.ended=function(){return this.pos>=this.length},e}(),b=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n.prototype.scan=function(e){for(var t="";this.pos<this.length;){var n=this._target[this.pos];if(!n.match(e))break;t+=n,this.pos++}return t},n.prototype.peek=function(e){return this._target.substr(this.pos,e)},n.prototype.take=function(e){var t=this._target.substr(this.pos,e);return this.pos+=e,t},n}(P),B=function(e){function n(t,n){var r=e.call(this,n)||this;return r.source=t,r}return t(n,e),n.prototype.peek=function(e){return void 0===e&&(e=1),this._target[this.pos+e]},n.prototype.peekUntil=function(e){for(var t=this.pos;t<this.length-1;)if(e(this._target[++t]))return this._target[t]},n.prototype.curr=function(){return e.prototype.curr.call(this)},n.prototype.next=function(){return e.prototype.next.call(this)},n}(P);!function(e){e[e.LESS_THAN=0]="LESS_THAN",e[e.LESS_THAN_OR_EQUAL=1]="LESS_THAN_OR_EQUAL",e[e.CLOSE_TAG=2]="CLOSE_TAG",e[e.GREATER_THAN=3]="GREATER_THAN",e[e.GREATER_THAN_OR_EQUAL=4]="GREATER_THAN_OR_EQUAL",e[e.COMMENT=5]="COMMENT",e[e.BACKSLASH=6]="BACKSLASH",e[e.BANG=7]="BANG",e[e.AND=8]="AND",e[e.OR=9]="OR",e[e.PLUS=10]="PLUS",e[e.MINUS=11]="MINUS",e[e.STAR=12]="STAR",e[e.PERCENT=13]="PERCENT",e[e.PAREN_OPEN=14]="PAREN_OPEN",e[e.PAREN_CLOSE=15]="PAREN_CLOSE",e[e.DOUBLE_EQUALS=16]="DOUBLE_EQUALS",e[e.TRIPPLE_EQUELS=17]="TRIPPLE_EQUELS",e[e.BRACKET_OPEN=18]="BRACKET_OPEN",e[e.BRACKET_CLOSE=19]="BRACKET_CLOSE",e[e.CURLY_BRACKET_OPEN=20]="CURLY_BRACKET_OPEN",e[e.CURLY_BRACKET_CLOSE=21]="CURLY_BRACKET_CLOSE",e[e.EQUALS=22]="EQUALS",e[e.SINGLE_QUOTE=23]="SINGLE_QUOTE",e[e.DOUBLE_QUOTE=24]="DOUBLE_QUOTE",e[e.TEXT=25]="TEXT",e[e.RESERVED_KEYWORD=26]="RESERVED_KEYWORD",e[e.WHITESPACE=27]="WHITESPACE"}(r||(r={}));var U=function(e){for(var t=new b(e),n=[];!t.ended();){var o=t.curr(),i=void 0;if("<"===o)if("</"===t.peek(2))i=m(r.CLOSE_TAG,t.pos,t.take(2));else if("\x3c!--"===t.peek(4)){for(var u=t.take(4);!t.ended();){var s=t.curr();if("-"===s&&"--\x3e"===t.peek(3)){u+=t.take(3);break}t.next(),u+=s}i=m(r.COMMENT,t.pos,u)}else i="<="===t.peek(2)?m(r.LESS_THAN_OR_EQUAL,t.pos,t.take(2)):m(r.LESS_THAN,t.pos,t.shift());else if("&"===o&&"&&"===t.peek(2))i=m(r.AND,t.pos,t.take(2));else if("|"===o&&"||"===t.peek(2))i=m(r.OR,t.pos,t.take(2));else if(">"===o)i=">="===t.peek(2)?m(r.GREATER_THAN_OR_EQUAL,t.pos,t.take(2)):m(r.GREATER_THAN,t.pos,t.shift());else if("="===o)i="==="===t.peek(3)?m(r.TRIPPLE_EQUELS,t.pos,t.take(3)):"=="===t.peek(2)?m(r.DOUBLE_EQUALS,t.pos,t.take(2)):m(r.EQUALS,t.pos,t.shift());else if("'"===o)i=m(r.SINGLE_QUOTE,t.pos,t.shift());else if("!"===o)i=m(r.BANG,t.pos,t.shift());else if("/"===o)i=m(r.BACKSLASH,t.pos,t.shift());else if('"'===o)i=m(r.DOUBLE_QUOTE,t.pos,t.shift());else if("+"===o)i=m(r.PLUS,t.pos,t.shift());else if("-"===o)i=m(r.MINUS,t.pos,t.shift());else if("*"===o)i=m(r.STAR,t.pos,t.shift());else if("%"===o)i=m(r.PERCENT,t.pos,t.shift());else if("["===o)i=m(r.BRACKET_OPEN,t.pos,t.shift());else if("]"===o)i=m(r.BRACKET_CLOSE,t.pos,t.shift());else if("("===o)i=m(r.PAREN_OPEN,t.pos,t.shift());else if(")"===o)i=m(r.PAREN_CLOSE,t.pos,t.shift());else if("{"===o)i=m(r.CURLY_BRACKET_OPEN,t.pos,t.shift());else if("}"===o)i=m(r.CURLY_BRACKET_CLOSE,t.pos,t.shift());else if(/[\s\r\n\t]/.test(o))i=m(r.WHITESPACE,t.pos,t.scan(/[\s\r\n\t]/));else{var a=t.scan(/[^-<>,='"(){}\[\]\s\r\n\t]/)||t.shift();i=m("undefined"===a?r.RESERVED_KEYWORD:r.TEXT,t.pos,a)}n.push(i)}return new B(e,n)},G={},K=function(e){if(G[e])return G[e];var t=U(e);return G[e]=M(t)},M=function(t){for(var n=[];!t.ended();)n.push(I(t));return 1===n.length?n[0]:{type:e.PCExpressionType.FRAGMENT,location:O(0,t.source.length,t.source),childNodes:n}},I=function(e){switch(e.curr().type){case r.WHITESPACE:return ie(e);case r.SINGLE_QUOTE:case r.DOUBLE_QUOTE:return oe(e);case r.LESS_THAN:return te(e);case r.CLOSE_TAG:return ee(e);case r.COMMENT:return z(e);default:return Z(e)?w(e):ie(e)}},w=function(t){var n=t.curr();t.next(),t.next(),ue(t);var r=k(t);return ue(t),t.next(),t.next(),{type:e.PCExpressionType.BLOCK,location:O(n,t.curr(),t.source),value:r}},k=function(t){switch(t.curr().value){case"bind":return j(t);case"repeat":return X(t);case"if":return W(t,e.BKExpressionType.IF);case"elseif":return W(t,e.BKExpressionType.ELSEIF);case"else":return W(t,e.BKExpressionType.ELSE);case"property":return Y(t,e.BKExpressionType.PROPERTY);default:throw new Error("Unknown block type "+t.curr().value)}},V=function(e){return D(e)},D=function(t){var n=F(t);ue(t);var o=t.curr(),i=o.type;if(!(i===r.AND||i===r.OR||i==r.PLUS||i===r.MINUS||i===r.STAR||i===r.BACKSLASH||i===r.DOUBLE_EQUALS||i===r.TRIPPLE_EQUELS||i===r.GREATER_THAN||i===r.LESS_THAN||i===r.LESS_THAN_OR_EQUAL||i===r.GREATER_THAN_OR_EQUAL))return n;t.next(),ue(t);var u=D(t);return{type:e.BKExpressionType.OPERATION,left:n,right:u,operator:o.value,location:O(n.location.start,u.location.end,t.source)}},F=function(e){switch(e.curr().type){case r.BANG:return J(e);case r.PAREN_OPEN:return H(e);case r.TEXT:return q(e);case r.RESERVED_KEYWORD:return Q(e);default:throw new Error("Unknown block type "+e.curr().value)}},H=function(t){var n=t.curr();t.next();var r=V(t);return t.next(),{type:e.BKExpressionType.GROUP,value:r,location:O(n,t.curr(),t.source)}},Q=function(t){var n=t.curr();return t.next(),{type:e.BKExpressionType.RESERVED_KEYWORD,value:n.value,location:O(n,t.curr(),t.source)}},j=function(t){var n=t.curr();return t.next(),t.next(),{type:e.BKExpressionType.ECHO,value:V(t),location:O(n,t.curr(),t.source)}},Y=function(e,t){var n=e.curr();return e.next(),e.next(),{type:t,name:q(e).value,location:O(n,e.curr(),e.source)}},W=function(e,t){var n=e.curr();return e.next(),e.next(),{type:t,condition:V(e),location:O(n,e.curr(),e.source)}},X=function(t){var n=t.curr();t.next();var r=q(t);t.next();var o,i=q(t);return","===t.curr().value&&(t.next(),o=q(t)),{type:e.BKExpressionType.REPEAT,location:O(n,t.curr(),t.source),each:r,asKey:o,asValue:i}},q=function(t){ue(t);var n=t.curr();return t.next(),ue(t),{type:e.BKExpressionType.REFERENCE,value:n.value,location:O(n,t.curr(),t.source)}},J=function(t){var n=t.curr();return t.next(),{type:e.BKExpressionType.NOT,value:F(t),location:O(n,t.curr(),t.source)}},z=function(t){var n=t.curr();return t.next(),{type:e.PCExpressionType.COMMENT,value:n.value.substr(4,n.value.length-7),location:O(n,t.curr(),t.source)}},Z=function(e){return e.curr().type===r.BRACKET_OPEN&&e.peek(1).type===r.BRACKET_OPEN},ee=function(t){var n=t.curr();t.next();var o=se(t);return ce(t,r.GREATER_THAN),t.next(),{type:e.PCExpressionType.END_TAG,name:o,location:O(n,t.curr(),t.source)}},te=function(t){var n=t.curr();ce(t,r.LESS_THAN),t.next();for(var o=se(t),i=[],u=[];!t.ended();){ue(t);var s=t.curr();if(s.type===r.BACKSLASH||s.type==r.GREATER_THAN)break;Z(t)?u.push(w(t)):i.push(re(t))}if(t.curr().type===r.BACKSLASH)return t.next(),t.next(),{type:e.PCExpressionType.SELF_CLOSING_ELEMENT,name:o,attributes:i,modifiers:u,location:O(n,t.curr(),t.source)};t.next();var a=t.curr(),c=ne(o,t),p=c[0],E=c[1];return{type:e.PCExpressionType.ELEMENT,startTag:{name:o,type:e.PCExpressionType.START_TAG,location:O(n,a,t.source),modifiers:u,attributes:i},childNodes:p,location:O(n,t.curr(),t.source),endTag:E}},ne=function(t,n){var o=[];if("style"===t||"script"===t){for(var i="",u=n.curr();!n.ended()&&n.curr().type!==r.CLOSE_TAG;)i+=n.curr().value,n.next();return[[{type:e.PCExpressionType.TEXT_NODE,value:i,location:O(u,n.curr(),n.source)}],I(n)]}for(var s;!n.ended();){var a=I(n);if(a.type===e.PCExpressionType.END_TAG){s=a;break}o.push(a)}return[o,s]},re=function(t){var n,o=t.curr(),i=se(t);return t.curr().type===r.EQUALS&&(t.next(),n=I(t)),{type:e.PCExpressionType.ATTRIBUTE,name:i,value:n,location:O(o,t.curr(),t.source)}},oe=function(t){var n=t.curr(),r=[],o=!1;for(t.next();!t.ended();){var i=t.curr();if(i.type===n.type)break;Z(t)?(o=!0,r.push(w(t))):(t.next(),r.push({type:e.PCExpressionType.STRING,value:i.value,location:O(i.pos,t.curr(),t.source)}))}t.next();var u=O(n,t.curr(),t.source);return o?{type:e.PCExpressionType.STRING_BLOCK,location:u,values:r}:{type:e.PCExpressionType.STRING,location:u,value:r.map(function(e){return e.value}).join("")}},ie=function(t){var n=t.curr();t.next();for(var o=n.value;!t.ended();){var i=t.curr();if(i.type===r.COMMENT||i.type===r.LESS_THAN||i.type==r.CLOSE_TAG||Z(t))break;t.next(),o+=i.value}return{type:e.PCExpressionType.TEXT_NODE,value:o,location:O(n,t.curr(),t.source)}},ue=function(e){for(;e.curr().type===r.WHITESPACE;)e.next()},se=function(e){for(var t="";e.curr().type!==r.WHITESPACE&&e.curr().type!==r.GREATER_THAN&&e.curr().type!==r.EQUALS;)t+=e.curr().value,e.next();return t},ae=function(e,t){if(!t)throw new Error("Unexpected end of file (missing closing expression).");var n=$(t,e);throw new Error('Unexpected token "'+t.value+'" at '+n.line+":"+n.column)},ce=function(e,t){var n=e.curr();n&&n.type===t||ae(e.source,e.curr())},pe=function(e){e.curr()||ae(e.source,e.curr())};!function(e){e.TANDEM="TANDEM",e.WEB="WEB"}(e.PaperclipTargetType||(e.PaperclipTargetType={}));var Ee=Symbol(),le=function(e){if(e[Ee]&&e[Ee][0]===e)return e[Ee][1];var t=Te(e);return e[Ee]=[e,t],t},fe=function(e,t,n){return void 0===n&&(n={}),n[e]?Promise.resolve(n):t.readFile(e).then(K).then(le).then(function(r){return n[e]=r,Promise.all(r.imports.map(function(r){return t.resolveFile(r.href,e).then(function(e){return fe(e,t,n)})}))}).then(function(){return n})},Te=function(t){for(var n=t.type===e.PCExpressionType.FRAGMENT?t.childNodes:[t],r=[],u=[],c=[],p=[],E=0,l=n.length;E<l;E++){var f=n[E];if(f.type===e.PCExpressionType.SELF_CLOSING_ELEMENT||f.type===e.PCExpressionType.ELEMENT){var T=f,d=i(T),y=o(T),v=s(T),N=a(T);if("component"===d){u.push(de(N,v,y));continue}if("link"===d){r.push(ve(v));continue}if("style"===d){c.push(Ne(v,y));continue}}p.push(f)}return{source:t,imports:r,components:u,globalStyles:c,unhandledExpressions:p}},de=function(t,n,r){for(var a,c,p,E=t.map(function(e){return e.value}).filter(function(t){return t.type===e.BKExpressionType.PROPERTY}),l=0,f=n.length;l<f;l++){var T=n[l];"id"===T.name&&(a=u(T))}for(var l=0,f=r.length;l<f;l++){var d=r[l];if(d.type===e.PCExpressionType.SELF_CLOSING_ELEMENT||d.type===e.PCExpressionType.ELEMENT){var y=d,v=i(y),N=s(y),h=o(y);"style"===v?c=Ne(N,h):"template"===v&&(p=ye(N,h))}}return{id:a,style:c,properties:E,template:p}},ye=function(e,t){return{content:t}},ve=function(e){for(var t,n,r=0,o=e.length;r<o;r++){var i=e[r];"href"===i.name?t=u(i):"type"===i.name&&(n=u(i))}return{type:n,href:t}},Ne=function(e,t){return{content:t[0].value}},he=function(e,t){return fe(e,t.io).then(function(t){return{code:Ae(e,t)}})},Ce=function(t){switch(t.type){case e.BKExpressionType.NOT:return"!"+Ce(t.value);case e.BKExpressionType.REFERENCE:return t.value;case e.BKExpressionType.GROUP:return"("+Ce(t.value)+")";case e.BKExpressionType.RESERVED_KEYWORD:return t.value;case e.BKExpressionType.OPERATION:var n=t,r=n.left,o=n.operator,i=n.right;return Ce(r)+" "+o+" "+Ce(i);default:throw new Error("Unable to transpile BK block "+t.type)}},Se=function(e){return e.replace(/[\d-]+/g,"_")},Ae=function(e,t){var n="((window) => {";n+="const document = window.document;const $$each = (object, iterator) => {if (Array.isArray(object)) {object.forEach(iterator);} else {for (const key in object) {iterator(object[key], key);}}};const $$count = (object) => {return Array.isArray(object) ? object.length : Object.keys(object).length;};const $$defineModule = (deps, run) => {let exports;return () => {if (exports) return exports;exports = {};return exports = run((dep) => $$modules[deps[dep]]());}};let updating = false;let toUpdate = [];const $$requestUpdate = (object) => {if (toUpdate.indexOf(object) === -1) {toUpdate.push(object);}if (updating) {return;}updating = true;requestAnimationFrame(function() {for(let i = 0; i < toUpdate.length; i++) {const target = toUpdate[i];target.update();}toUpdate = [];updating = false;});};",n+="$$modules = {};";for(var r in t)n+='$$modules["'+r+'"] = '+_e(t[r])+";";return n+='const entry = $$modules["'+e+'"]();',n+="return {entry,modules: $$modules};})(window)"},_e=function(e){var t=e.source,n=(e.imports,e.globalStyles,e.components),r=e.unhandledExpressions,o={varCount:0,root:t},i="$$defineModule({}, (require) => {";i+="$$strays = [];";for(var u=Me(r,o),s=0,a=u.length;s<a;s++){var c=u[s];i+=c.content,i+=c.bindings.map(Re).join("\n"),i+="if ("+c.varName+".nodeType != null) {\n",i+="  $$strays.push("+c.varName+");\n",i+="}\n;"}for(var s=0,a=n.length;s<a;s++)i+=me(n[s],o).content;return i+="return {strays: $$strays};",i+="})"},Re=function(e){return"(() => {"+e+"} )();\n"},ge=function(e){return"(() => { const binding = () => { "+e+" }; binding(); return binding; })()"},me=function(e,t){var r=e.id,o=(e.style,e.template),i=e.properties,u=ke(Se(r),t),s=n({},t,{varCount:0,contextName:"this"});return{varName:u,bindings:[],content:"class "+u+" extends HTMLElement {constructor() {super();this.$$bindings = [];}connectedCallback() {this.render();}"+i.map(function(e){var t=e.name;return"get "+t+"() {return this.$$"+t+";}set "+t+"(value) {if (this.$$"+t+" === value) {return;}const oldValue = this.$"+t+";this.$$"+t+" = value;if (this._rendered) {$$requestUpdate(this);}}"}).join("\n")+'render() {if (this._rendered) {return;}this._rendered = true;const shadow = this.attachShadow({ mode: "open" });'+i.map(function(e){var t=e.name,n=e.defaultValue;return"if (this.$$"+t+" == null) {this.$$"+t+" = "+(n||'this.getAttribute("'+t+'");')+"}"}).join("\n")+"let $$bindings = [];"+(o?o.content.map(function(e){var t=Le(e,s);return e?t.content+(t.bindings.length?"$$bindings = $$bindings.concat("+t.bindings.map(function(e){return"(() => {const $$binding = () => {const { "+i.map(function(e){return e.name}).join(",")+" } = this;"+e+"};return $$binding;})()"})+");":"")+"shadow.appendChild("+t.varName+");":""}).join(""):"")+"this.$$bindings = $$bindings;}cloneShallow() {const clone = super.cloneShallow();clone._rendered = true;return clone;}static get observedAttributes() {return "+JSON.stringify(i.map(function(e){return e.name}))+";}attributeChangedCallback(name, oldValue, newValue) {if (super.attributeChangedCallback) {super.attributeChangedCallback(name, oldValue, newValue);}this[name] = newValue;}update() {if (!this._rendered) {return;}let bindings = this.$$bindings || [];"+Ge("bindings")+'}}customElements.define("'+r+'", '+u+");"}},Le=function(t,n){switch(t.type){case e.PCExpressionType.FRAGMENT:return xe(t,n);case e.PCExpressionType.TEXT_NODE:return $e(t,n);case e.PCExpressionType.BLOCK:return Oe(t,n);case e.PCExpressionType.ELEMENT:return Ke(t,n);case e.PCExpressionType.SELF_CLOSING_ELEMENT:return Pe(t,n)}return null},xe=function(e,t){return Ve('document.createDocumentFragment("")',t)},$e=function(e,t){return Ve("document.createTextNode("+JSON.stringify(e.value.replace(/[\s\r\n\t]+/g," "))+")",t)},Oe=function(e,t){var n=Ve('document.createTextNode("")',t),r=n.varName+"$$currentValue";return n.content+="let "+r+";",n.bindings.push(Ue(r,Ce(e.value.value),function(e){return n.varName+".nodeValue = "+e},t)),n},Pe=function(e,t){return be(e,Be(e,t),t)},be=function(t,n,r){if(!t.modifiers.length)return n;for(var o,i,u,s,a=t.modifiers,c=n,p=0,E=a.length;p<E;p++){var l=a[p].value;l.type===e.BKExpressionType.IF?o=l:l.type===e.BKExpressionType.ELSE?i=l:l.type===e.BKExpressionType.ELSEIF?u=l:l.type===e.BKExpressionType.REPEAT&&(s=l)}if(s){var f=s.each.value,T=s.asKey,d=(void 0===T?{value:"index"}:T).value,y=s.asValue.value,v=De(r),N=v.fragment,h=v.start,C=v.end,_=(c=N).varName+"$$currentValue",R=c.varName+"$$childBindings";c.content+="let "+_+" = [];let "+R+" = [];",c.bindings.push("let $$newValue = ("+f+") || [];if ($$newValue === "+_+") {return;}const $$oldValue = "+_+";"+_+" = $$newValue;const $$parent = "+h.varName+".parentNode;const $$startIndex = Array.prototype.indexOf.call($$parent.childNodes, "+h.varName+"); const $$newValueCount = $$count($$newValue);const $$oldValueCount = $$count($$oldValue);if ($$newValueCount > $$oldValueCount) {for (let $$i = $$newValueCount - $$oldValueCount; $$i--;) {"+n.content+"$$parent.insertBefore("+n.varName+", "+C.varName+");const $$bindings = ["+n.bindings.map(function(e){return"("+y+", "+d+") => { "+e+"}"}).join(",")+"];"+R+".push(($$newValue, $$newKey) => {"+Ge("$$bindings","$$newValue, $$newKey")+"});}} else if ($$oldValue.length < $$newValue.length) {}let i = 0;$$each($$newValue, (value, k) => {"+R+"[i++](value, k);});"),n=c}if(o||u||i){for(var m=(o||u||i).condition,L=r.root===t||r.root.startTag===t?[r.root]:g(r.root,t).childNodes,x=L.findIndex(function(n){return n===t||t.type===e.PCExpressionType.START_TAG&&n.type===e.PCExpressionType.ELEMENT&&n.startTag===t}),$=void 0,p=x+1;p--;){var O=L[p];if(S(O,e.BKExpressionType.IF)){$="condition_"+A(O,r.root).join("");break}}var P=De(r),N=P.fragment,h=P.start,C=P.end,b=(c=N).varName+"$$bindings",_=c.varName+"$$currentValue";N.content+="let "+b+" = [];let "+_+" = false;",o&&(N.content+="let "+$+" = Infinity;"),c.bindings.push("const newValue = Boolean("+(m?Ce(m):"true")+") && "+$+" >= "+x+";if (newValue) {"+$+" = "+x+";} else if ("+$+" === "+x+") {"+$+" = Infinity;}if (newValue && newValue === "+_+") {if ("+_+") {"+Ge(b)+"}return;}"+_+" = newValue;"+b+" = [];if (newValue) {const elementFragment = document.createDocumentFragment();"+n.content+(n.bindings.length?b+" = "+b+".concat("+n.bindings.map(ge)+")":"")+"elementFragment.appendChild("+n.varName+");"+C.varName+".parentNode.insertBefore(elementFragment, "+C.varName+");} else {let curr = "+h.varName+".nextSibling;while(curr !== "+C.varName+") {curr.parentNode.removeChild(curr);curr = "+h.varName+".nextSibling;}}")}return c},Be=function(t,n){for(var r=Ve('document.createElement("'+t.name+'")',n),o=0,i=t.attributes.length;o<i;o++)!function(o,i){var u=t.attributes[o],s=u.name,a=u.value,c=Se(s);if(a){if(a.type===e.PCExpressionType.STRING){var p=a;r.content+=r.varName+'.setAttribute("'+s+'", '+JSON.stringify(p.value)+");\n"}else if(a.type===e.PCExpressionType.STRING_BLOCK||a.type===e.PCExpressionType.BLOCK){var E=r.varName+"$$"+c+"$$currentValue";r.content+="let "+E+";\n";var l=void 0;l=a.type===e.PCExpressionType.STRING_BLOCK?Ue(E,a.values.map(function(t){return t.type===e.PCExpressionType.BLOCK?Ce(t.value.value):JSON.stringify(t.value)}).join(" + "),function(e){return r.varName+'.setAttribute("'+s+'", '+e+")"},n):Ue(E,Ce(a.value.value),function(e){return r.varName+"."+c+" = "+e},n),r.bindings.push(l)}}else r.content+=r.varName+"."+s+" = true;\n"}(o);return r},Ue=function(e,t,n,r){return"let $$newValue = "+t+";if ($$newValue !== "+e+") {"+n(e+" = $$newValue")+"}"},Ge=function(e,t){return void 0===t&&(t=""),"for (let i = 0, n = "+e+".length; i < n; i++) {"+e+"[i]("+t+");}"},Ke=function(e,t){switch(e.startTag.name){case"component":return null;default:return be(e.startTag,Ie(e,t),t)}},Me=function(t,n){for(var r=[],o=0,i=t.length;o<i;o++){var u=t[o];if(u.type===e.PCExpressionType.TEXT_NODE&&/^[[\s\r\n\t]$/.test(u.value)&&o>0&&o<i-1){var s=t[o-1],a=t[o+1];if(c(s)&&c(a))continue}var p=Le(u,n);p&&r.push(p)}return r},Ie=function(e,t){for(var n=Be(e.startTag,t),r=Me(e.childNodes,t),o=0,i=r.length;o<i;o++){var u=r[o];n.content+=u.content,n.content+=n.varName+".appendChild("+u.varName+");\n",(s=n.bindings).push.apply(s,u.bindings)}return n;var s},we=function(e,t,n){var r=ke(e,n);return{varName:r,bindings:[],content:t?"let "+r+" = "+t+";\n":"let "+r+";\n"}},ke=function(e,t){return e+"_"+t.varCount++},Ve=function(e,t){return we("node",e,t)},De=function(e){var t=Ve('document.createDocumentFragment("")',e),n=Ve('document.createTextNode("")',e),r=Ve('document.createTextNode("")',e);return t.content+=n.content+""+r.content+t.varName+".appendChild("+n.varName+");"+t.varName+".appendChild("+r.varName+");",{fragment:t,start:n,end:r}};return e.getElementChildNodes=o,e.getElementTagName=i,e.getAttributeStringValue=u,e.getElementAttributes=s,e.getElementModifiers=a,e.isTag=c,e.filterPCElementsByStartTag=p,e.getElementStartTag=E,e.getPCStartTagAttribute=l,e.hasPCStartTagAttribute=f,e.getPCStyleElements=T,e.getPCLinkStyleElements=d,e.getPCCSSElements=y,e.getPCMetaTags=v,e.getPCMetaName=N,e.traversePCAST=h,e.getStartTag=C,e.getPCElementModifier=S,e.getExpressionPath=A,e.filterPCASTTree=_,e.getPCASTElementsByTagName=R,e.getPCParent=g,e.parseModuleSource=K,e.throwUnexpectedToken=ae,e.assertCurrTokenType=ce,e.assertCurrTokenExists=pe,e.bundleVanilla=he,e.transpileBlockExpression=Ce,e.loadModuleAST=le,e.loadModuleDependencyGraph=fe,e}({});
